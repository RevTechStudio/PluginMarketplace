# コマンド品質チェックリスト

このチェックリストは、コマンドがガイドラインとベストプラクティスに準拠しているかを確認するための完全なリストです。

## 1. ファイル名

### 命名規則

- [ ] **ケバブケース**: ファイル名が`kebab-case`で記述されている
  - 良い例: `analyze-project.md`, `generate-docs.md`
  - 悪い例: `analyze_project.md`, `AnalyzeProject.md`
- [ ] **動詞で始まる**: アクションを表す動詞で始まっている
  - 良い例: `create-report.md`, `check-consistency.md`
  - 悪い例: `project.md`, `report.md`
- [ ] **具体的で分かりやすい**: コマンドの目的が名前から理解できる
  - 良い例: `analyze-project.md`
  - 悪い例: `analyze.md`（抽象的すぎる）
- [ ] **拡張子**: `.md`拡張子を使用している

---

## 2. YAMLフロントマター

### description フィールド（必須）

- [ ] **存在する**: descriptionフィールドが記述されている
- [ ] **文字数制限**: 1024文字以内
- [ ] **空でない**: 内容が存在する
- [ ] **簡潔**: コマンドが何をするかを1-2文で説明
  - 良い例: 「プロジェクトの構造と技術スタックを分析し、ドキュメント化する」
  - 悪い例: 「このコマンドはプロジェクトを分析します。プロジェクトの構造を調べて、使用されている技術を特定し...」

### allowed-tools フィールド（オプション）

- [ ] **適切な指定**: コマンドで使用するツールが明示されている
  - 例: `Bash(git add:*)`, `Bash(git status:*)`
- [ ] **権限設定**: 実行されるbashコマンドが明確に指定されている

### argument-hint フィールド（オプション）

- [ ] **引数が必要な場合に記述**: コマンドが引数を取る場合、ヒントが提供されている
  - 例: `[pr-number] [priority]`, `[message]`

---

## 3. コマンド内容

### スキルの呼び出し

- [ ] **スキル名の明示**: 使用するスキル名が明確に記述されている
  - 良い例: 「project-analyzerスキルを使用してプロジェクトを分析する」
  - 悪い例: 「プロジェクトを分析してください」
- [ ] **スキルなしの場合**: スキルを使用しない場合、タスクの内容が具体的に記述されている

### ファイルパスの指定

- [ ] **ファイルパスの明示**: 成果物のファイルパスが具体的に指定されている
  - 良い例: 「分析結果は以下のパスに保存：\n- `./.spec/project-analysis.md`」
  - 悪い例: 「結果をファイルに保存」
- [ ] **Unixスタイルパス**: フォワードスラッシュ（/）を使用
  - 良い例: `./.spec/analysis.md`
  - 悪い例: `.\.spec\analysis.md`

### 内容の簡潔性

- [ ] **簡潔な記述**: 必要な情報のみを含み、冗長でない
  - スキルの詳細説明は省略（SKILL.mdに記載されているため）
- [ ] **明確な指示**: 何をするかが明確
- [ ] **構造化**: セクションやリストで整理されている

---

## 4. 複数スキルの連携

### 実行順序（該当する場合）

- [ ] **順序の明示**: 複数のスキルを使用する場合、実行順序が明確
  - 例: 「1. project-analyzerスキルで...」「2. consistency-checkerスキルで...」
- [ ] **各ステップの目的**: 各スキルの実行目的が説明されている
- [ ] **出力先の指定**: 各スキルの成果物の保存先が明確

---

## 5. 引数の使用（該当する場合）

### 引数プレースホルダー

- [ ] **プレースホルダーの使用**: `$ARGUMENTS`, `$1`, `$2`などを適切に使用
- [ ] **引数の説明**: 引数の意味が明確
  - 例: 「Fix issue #$1 following our coding standards」
- [ ] **argument-hintとの整合性**: フロントマターのargument-hintと内容が一致

---

## 6. Bashコマンド実行（該当する場合）

### Bash実行

- [ ] **`!`プレフィックス**: bash実行には`!`プレフィックスを使用
  - 例: `!git status`
- [ ] **allowed-toolsの指定**: フロントマターでBashツールが許可されている
- [ ] **適切な使用**: 必要な場合のみbashコマンドを使用

---

## 7. ファイル参照（該当する場合）

### ファイル参照

- [ ] **`@`プレフィックス**: ファイル参照には`@`プレフィックスを使用
  - 例: `@src/utils/helpers.js`
- [ ] **参照の明確性**: 参照するファイルの目的が説明されている

---

## 8. ユーザーへのフィードバック（該当する場合）

### 作業完了後の指示

- [ ] **次のステップの提示**: 作業完了後、ユーザーに次のアクションを提示
  - 例: 「次は`/brainstorm`コマンドを実行してください」
- [ ] **結果の確認方法**: 生成されたファイルの場所を明示

---

## 9. ベストプラクティス

### 汎用性

- [ ] **プロジェクト依存性**: プロジェクト固有の設定はコマンド側で定義
  - ファイルパスはコマンドで指定（スキルには含めない）
- [ ] **再利用可能**: 同様の目的で他のプロジェクトでも使用可能

### 明確性

- [ ] **曖昧な表現の回避**: 「必要に応じて」などの曖昧な表現を避ける
- [ ] **具体的な指示**: 実行内容が明確で誤解の余地がない

### 簡潔性

- [ ] **コンパクトな記述**: 10-30行程度が目安
- [ ] **必要十分な情報**: 過不足のない内容

---

## 10. 名前空間（該当する場合）

### サブディレクトリ

- [ ] **適切な配置**: 組織名やカテゴリでサブディレクトリを使用
  - 例: `.claude/commands/rt/analyze.md` → `/rt:analyze`
- [ ] **一貫性**: 同じプラグイン内のコマンドは同じサブディレクトリに配置

---

## 総合評価

### スコア計算

各カテゴリのチェック項目を評価し、以下の配点で評価：

#### カテゴリ別配点

**ファイル名: 15点**
- ケバブケース（5点）
- 動詞で始まる（5点）
- 具体的で分かりやすい（5点）

**YAMLフロントマター: 15点**
- description存在と内容（10点）
- allowed-tools適切性（3点）
- argument-hint適切性（2点）

**コマンド内容: 40点**
- スキルの呼び出し明示（15点）
- ファイルパスの指定（15点）
- 内容の簡潔性（10点）

**複数スキルの連携: 10点**
- 実行順序の明示（5点）
- 各ステップの目的（5点）

**引数の使用: 5点**
- プレースホルダーの適切な使用（5点）

**ベストプラクティス: 15点**
- 汎用性（5点）
- 明確性（5点）
- 簡潔性（5点）

#### 評価方法

各項目は達成度に応じて0-100%で評価し、配点を乗じて加算する。

例：
- ファイル名（15点）で100%達成 → 15点
- コマンド内容（40点）で80%達成 → 32点

**総合スコア**: 100点満点

### 品質レベル

- **96-100点**: 模範的
- **90-95点**: 優れた品質
- **80-89点**: 良好
- **70-79点**: 許容範囲
- **70点未満**: 改善必要

---

## チェックリスト使用方法

1. **新規コマンド作成時**: 各項目を確認しながら作成
2. **既存コマンド検証時**: 全項目をチェックし、問題箇所を特定
3. **レビュー時**: このチェックリストを基準に品質を評価

### 優先度

- **必須項目**: ファイル名規則、description存在、スキル呼び出し明示、ファイルパス指定
- **推奨項目**: 簡潔性、明確性、ユーザーフィードバック
- **オプション項目**: 複数スキル連携、引数使用、Bash実行
