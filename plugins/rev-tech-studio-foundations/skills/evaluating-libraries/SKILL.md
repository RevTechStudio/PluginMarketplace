---
name: evaluating-libraries
description: ライブラリやパッケージを評価・比較する。ダウンロード数、GitHubスター数、最終更新日、コントリビューター数、コミュニティ健全性などの指標を分析し、詳細な評価レポートを生成する。NuGetパッケージ、npmパッケージなどのライブラリ選定や比較が必要なときに使用する。
---

# Evaluating Libraries

ライブラリやパッケージを評価・比較し、導入判断を支援する。

## 目的

ライブラリ導入時の意思決定を支援するため、客観的な指標に基づく評価と比較分析を提供する。

## 責任範囲

- 単一ライブラリの詳細評価を実施する
  - 導入前のリスク評価を可能にする
- 複数ライブラリの比較分析を実施する
  - 最適な選択肢を特定する
- 主要指標を収集・分析する
  - 人気度、活動性、コミュニティ健全性を定量化する
- 構造化された評価レポートを生成する
  - 一貫性のある評価基準で比較可能にする

**責任範囲外:**
- ライブラリの最終的な選定判断
  - プロジェクト固有の要件はユーザーが判断する
- ライブラリのインストールや設定
  - 評価後の実装作業は別タスクとする

## ワークフロー

### 単一ライブラリの評価

1. **基本情報を収集する**
   - ライブラリ名、パッケージマネージャー、公式URL
   - 早期に基本情報を確定し、評価対象を明確にする

2. **主要指標を取得する**
   - ダウンロード数: パッケージマネージャーのAPIまたはWebサイトから取得
   - GitHubスター数: GitHub APIまたはリポジトリページから取得
   - 最終更新日: パッケージマネージャーまたはGitHubから取得
   - コントリビューター数: GitHubから取得
   - 客観的なデータで評価の信頼性を確保する

3. **詳細分析を実施する**
   - 人気度: ダウンロード数とスター数から評価
   - 活動性: 最終更新日、リリース頻度、コミット頻度から評価
   - コミュニティ健全性: コントリビューター数、Issue/PRの状況から評価
   - リスク: メンテナンス状況、依存関係の問題から評価
   - 多角的な視点で総合的に判断する

4. **総合スコアを算出する**
   - 各指標を点数化し、加重平均で総合スコアを計算
   - 定量的な比較を可能にする

5. **評価レポートを生成する**
   - 構造化されたマークダウンテーブル形式で出力
   - 視覚的に理解しやすい形式で提示する

### 複数ライブラリの比較

1. **評価対象を特定する**
   - ユーザーから比較対象のライブラリリストを取得
   - 比較の目的や優先する指標を確認
   - 明確な基準で公平な比較を実現する

2. **各ライブラリの評価を実施する**
   - 単一ライブラリ評価のワークフロー（手順1-4）を各ライブラリに適用
   - 同じ基準で評価し、比較可能性を確保する

3. **比較レポートを生成する**
   - 全ライブラリを横並びで比較できるテーブル形式で出力
   - 推奨順位を付与
   - 差異を明確化し、意思決定を支援する

4. **推奨理由を説明する**
   - 各指標の比較結果に基づき、推奨順位の根拠を示す
   - トレードオフを明示し、状況に応じた選択を可能にする

## 出力

### 単一ライブラリ評価レポート形式

```markdown
| 評価カテゴリ | 評価項目 | 評価結果 |
|-------------|----------|----------|
| **基本情報** | ライブラリ名 | [ライブラリ名] |
| | パッケージマネージャー | [NuGet/npm/PyPI等] |
| | 評価日 | [YYYY-MM-DD] |
| **総合評価** | 総合スコア | [スコア]/100 |
| **主要指標** | ダウンロード数 | [数値] |
| | GitHubスター数 | [数値] |
| | 最終更新日 | [YYYY-MM-DD] |
| | コントリビューター数 | [数値] |
| **詳細分析** | 人気度評価 | [高/中/低] + 理由 |
| | 活動性評価 | [高/中/低] + 理由 |
| | コミュニティ健全性 | [良好/普通/懸念] + 理由 |
| | リスク評価 | [低/中/高] + 理由 |
```

### 複数ライブラリ比較レポート形式

```markdown
| 評価カテゴリ | 評価項目 | ライブラリA | ライブラリB | ライブラリC |
|-------------|----------|-------------|-------------|-------------|
| **基本情報** | ライブラリ名 | [名前A] | [名前B] | [名前C] |
| | パッケージマネージャー | [PM] | [PM] | [PM] |
| | 評価日 | [日付] | [日付] | [日付] |
| **総合評価** | 総合スコア | [スコア]/100 | [スコア]/100 | [スコア]/100 |
| **主要指標** | ダウンロード数 | [数値] | [数値] | [数値] |
| | GitHubスター数 | [数値] | [数値] | [数値] |
| | 最終更新日 | [日付] | [日付] | [日付] |
| | コントリビューター数 | [数値] | [数値] | [数値] |
| **詳細分析** | 人気度評価 | [評価] | [評価] | [評価] |
| | 活動性評価 | [評価] | [評価] | [評価] |
| | コミュニティ健全性 | [評価] | [評価] | [評価] |
| | リスク評価 | [評価] | [評価] | [評価] |
| **推奨ランク** | 推奨順位 | [順位] | [順位] | [順位] |
```

推奨順位の後に、各ライブラリの特徴と推奨理由を簡潔に説明する。

## 評価指標の詳細

### 人気度評価

**基準:**
- ダウンロード数とGitHubスター数の組み合わせで判定
- エコシステムごとに基準値は異なる点に注意

**評価レベル:**
- **高**: 広く採用され、豊富な情報とコミュニティサポートが期待できる
- **中**: 一定の採用実績があり、基本的な情報は入手可能
- **低**: 採用実績が少なく、情報やサポートが限定的

**NuGetパッケージの目安:**
- 高: 月間ダウンロード数100万以上、またはスター数1,000以上
- 中: 月間ダウンロード数10万～100万、またはスター数100～1,000
- 低: 月間ダウンロード数10万未満、かつスター数100未満

### 活動性評価

**基準:**
- 最終更新日、リリース頻度、コミット頻度で判定
- 活発な開発は継続的な改善とバグ修正を示す

**評価レベル:**
- **高**: 継続的に開発され、新機能追加やバグ修正が活発
- **中**: 定期的な更新があり、重要な問題には対応している
- **低**: 更新が停滞しており、メンテナンスリスクがある

**判定目安:**
- 高: 最終更新が3ヶ月以内、月1回以上のコミット
- 中: 最終更新が6ヶ月以内、数ヶ月に1回のコミット
- 低: 最終更新が6ヶ月以上前、または年に数回のみの更新

### コミュニティ健全性

**基準:**
- コントリビューター数、Issue/PRの対応状況で判定
- 健全なコミュニティは長期的な継続性を示す

**評価レベル:**
- **良好**: 多様なコントリビューターがおり、Issue/PRへの対応が迅速
- **普通**: 一定のコントリビューターがおり、基本的な対応はされている
- **懸念**: 少数の開発者に依存、またはIssue/PRの対応が遅延

**判定目安:**
- 良好: コントリビューター10人以上、未解決Issueの割合が50%未満
- 普通: コントリビューター3～10人、未解決Issueの割合が50～70%
- 懸念: コントリビューター3人未満、または未解決Issueの割合が70%以上

### リスク評価

**基準:**
- メンテナンス状況、既知の脆弱性、依存関係の複雑さで判定
- リスクが低いほど安定した運用が期待できる

**評価レベル:**
- **低**: 活発にメンテナンスされ、重大な問題がない
- **中**: 基本的にメンテナンスされているが、一部懸念事項がある
- **高**: メンテナンス不足、重大な問題、または依存関係に問題がある

**判定要素:**
- メンテナンス状況: 活動性評価と連動
- セキュリティ: 既知の脆弱性の有無と対応状況
- 依存関係: 依存パッケージ数と、それらのメンテナンス状況
- ライセンス: プロジェクトで使用可能なライセンスか

## 総合スコア算出方法

以下の配点で100点満点で評価する：

- **人気度**: 30点
  - ダウンロード数（15点） + GitHubスター数（15点）
- **活動性**: 30点
  - 最終更新日（15点） + リリース/コミット頻度（15点）
- **コミュニティ健全性**: 25点
  - コントリビューター数（10点） + Issue/PR対応状況（15点）
- **リスク**: 15点
  - メンテナンス状況（5点） + セキュリティ（5点） + 依存関係（5点）

各項目は、評価レベル（高/中/低、良好/普通/懸念）を数値化して算出する。

## 使用例

### C#ロギングライブラリの比較

**ユーザーからの依頼:**
「C#のロギングライブラリとして、SerilogとNLogのどちらを導入すべきか評価してください。」

**実施内容:**
1. Serilog、NLog両方の主要指標を収集
2. NuGet統計とGitHubリポジトリから情報を取得
3. 各評価指標を分析
4. 比較レポートを生成
5. プロジェクトの特性（構造化ログの重要性、パフォーマンス要件等）を考慮した推奨順位を提示

**出力:**
- 2ライブラリの横並び比較テーブル
- 各指標の評価結果
- 推奨順位と理由（例: 構造化ログが重視される場合はSerilog優先）

## 注意事項

- **数値データの取得**: パッケージマネージャーやGitHubから最新データを取得する
  - NuGet: https://www.nuget.org/packages/[パッケージ名]
  - GitHub: https://github.com/[owner]/[repo]
  - GitHub API: リポジトリ詳細やコントリビューター情報を取得
- **評価日の記録**: データは時間とともに変化するため、評価日を必ず記載する
- **定性的要素の補足**: 定量指標だけでは判断できない要素（ドキュメント品質、学習曲線等）があれば補足する
- **プロジェクト要件の確認**: 評価指標だけでなく、プロジェクト固有の要件（ライセンス、パフォーマンス、特定機能の必要性等）をユーザーに確認する
- **複数バージョンへの対応**: 同一ライブラリの異なるメジャーバージョン（例: AutoMapper v10 vs v12）を比較する場合、それぞれを別ライブラリとして扱う
