# プラグインガイドライン

Claude Codeプラグイン開発時に従うべき基本ルールと設計原則を定義したもの。

## 適用範囲

RevTechStudioマーケットプレイスで配布されるすべてのプラグインが適用対象。

## 基本ルール

### 1. ドキュメントの言語

すべてのドキュメント（SKILL.md、コマンドファイル、README等）は**日本語**で記述すること。

### 2. 文体

可能な限り**体言止め**でドキュメントを記述すること。

**体言止めとは:**
- 文末を名詞や名詞句で終わらせる表現方法
- 簡潔で読みやすいドキュメントを実現

**例:**
- ❌ 「スキルを作成してください」
- ✅ 「スキルを作成すること」
- ❌ 「このルールに従います」
- ✅ 「このルールに従うこと」

**注意:**
- 違和感のある表現になる場合は、このルールを無視してよい
- 自然な日本語を優先

### 3. ファイルパス管理の原則

スキルの成果物がファイルとして存在する場合、ファイルパスの管理は以下のルールに従うこと。

#### コマンド経由でスキルを使用する場合

**原則:** ファイルパスはコマンド側で定義し、スキル側には記述しない

**理由:**
- スキルの再利用性を高める
- プロジェクト固有の構造への依存を避ける
- ファイルパス変更時の影響範囲を限定する

**実装例:**

```markdown
<!-- コマンドファイル: .claude/commands/analyze.md -->
project-analyzerスキルを使用してプロジェクトを分析してください。

分析結果は以下のパスに保存：
- ./.spec/analysis_result.md
```

```markdown
<!-- スキルファイル: skills/project-analyzer/SKILL.md -->
### 出力

分析結果をMarkdown形式で生成し、コマンドで指定されたパスに保存する。
```

#### 直接スキルを使用する場合

**原則:** ファイルパスをユーザーに確認する

スキルがコマンドからではなく直接呼び出される場合、スキル内でファイルパスをハードコーディングせず、以下のいずれかの対応を取ること。

1. **ユーザーに保存先を確認する**
   ```markdown
   分析結果を生成しました。どのパスに保存しますか？
   ```

2. **デフォルトパスを提案し、確認を求める**
   ```markdown
   分析結果を生成しました。`./analysis_result.md`に保存しますか？
   ```

### 4. スキルの汎用性

スキルは特定のプロジェクトに依存せず、汎用的に使用できるように設計すること。

**汎用的なスキルの特徴:**
- ドメインロジックに集中している
- プロジェクト固有のパスや構造に依存していない
- 異なるプロジェクトで再利用可能
- 環境依存の設定を外部に委譲している

**避けるべき実装:**
- ハードコードされたファイルパス
- 特定のディレクトリ構造への依存
- プロジェクト固有の命名規則の強制

## 個別ガイドライン

プラグインの各要素に関する詳細なガイドラインは、以下のドキュメントを参照すること。

### [コマンドガイドライン](./guideline-command.md)

コマンドファイルの作成・設計に関するルール

- コマンドの命名規則
- コマンド内でのパス指定方法
- スキルとの連携方法
- ドキュメント要件

### [スキルガイドライン](./guideline-skill.md)

スキルの設計・実装に関するルール

- スキルの設計原則
- 関心の分離
- ドキュメント要件
- 実装パターン

## チェックリスト

プラグイン作成時に以下を確認すること。

- [ ] すべてのドキュメントが日本語で記述されている
- [ ] 可能な限り体言止めで記述されている
- [ ] ファイルパスがスキル内にハードコードされていない
- [ ] コマンド経由の場合、パスがコマンド側で定義されている
- [ ] スキルが汎用的で再利用可能な設計になっている
- [ ] プロジェクト固有の構造に依存していない
- [ ] 個別ガイドライン（コマンド・スキル）に準拠している

## 関連ドキュメント

- [Documentation Standards](../rev-tech-studio-foundations/skills/documentation-standards/SKILL.md) - ドキュメント作成の標準
- [Coding Standards](../rev-tech-studio-foundations/skills/coding-standards/SKILL.md) - コーディング標準
