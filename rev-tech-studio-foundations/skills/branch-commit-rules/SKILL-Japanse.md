---
name: ブランチおよびコミット規則
description: ブランチ、コミット、プルリクエストに関する命名規則およびフォーマット標準。ブランチ作成、コミットメッセージ記述、プルリクエスト作成時に適用する。
---

# ブランチおよびコミット規則

## ブランチ命名規則

このリポジトリでは以下の命名規則に従います：

- **`main`**: メインブランチ（本番相当）
- **`feat/*`**: 新機能開発ブランチ
- **`fix/*`**: バグ修正ブランチ
- **`refactor/*`**: リファクタリングブランチ
- **`env/*`**: 環境構築・設定ブランチ
- **`claude/*`**: Claude Code により自動管理されるブランチ

## コミットメッセージ規則

コミットメッセージは **Conventional Commits** に準拠：  
<https://www.conventionalcommits.org/en/v1.0.0/>

### 基本フォーマット

```markdown
<type>: <description>

[optional body]

[optional footer(s)]
```

### ルール

- **scope は使用しない**
- **description**: 日本語または英語で記述
- **body**: 日本語または英語で記述（任意、箇条書き推奨）
- **type** は以下から選択：
  - `feat`: 新機能
  - `fix`: バグ修正
  - `refactor`: リファクタリング（機能変更なし）
  - `docs`: ドキュメントのみの変更
  - `style`: 意味に影響しないコード変更（整形、セミコロン等）
  - `test`: テスト追加または変更
  - `chore`: ビルドやツール等の変更
- **関連 issue 参照**: 関連する issue がある場合、フッターに `Refs: #issue_number` を追加推奨（コミットと issue の紐付けが明確になる）

### コミットメッセージ例

```text
feat: ユーザー認証を追加

- OAuth 2.0 を使用して認証を実装
- Google, GitHub, GitLab に対応

Refs: #123
```

## プルリクエスト (PR) 規則

### PR タイトル

コミットメッセージと同じ形式を使用：

- 形式: `<type>: <description>`
- description は日本語または英語
- 関連 issue がある場合、**タイトル末尾に `( #issue_number )` を付けることを推奨**

### PR タイトル例

```markdown
feat: ダークモード切替を追加
fix: ログイン画面のレイアウト崩れを修正
refactor: API 呼び出しロジックを再構成 ( #321 )
docs: README に環境構築手順を追加 ( #234 )
```

### PR 本文

変更内容を詳細に記述する：

- **何を変更したか**: 実装した機能、修正内容
- **なぜ変更したか**: 背景と目的

### PR 本文例

```markdown
## 変更内容

ユーザーがダークモードとライトモードを切り替えられる機能を追加。

## 変更理由

多くのユーザーからダークモードの要望があり、視認性向上とユーザー体験改善を目的とする。

## 実装詳細

- トグルスイッチコンポーネントを追加
- localStorage にテーマ状態を保存
- CSS カスタムプロパティでテーマを管理
```
