---
name: codespaces-setup
description: GitHub Codespaces用のC#/.NET開発環境設定を構築する。devcontainer.json、dependabot.yml、markdownlint設定を生成・配置する。新規プロジェクト初期化時、既存プロジェクトへのCodespaces追加時、または開発環境構築時に使用する。
---

# Codespaces Setup

GitHub Codespaces用の開発環境設定を構築する。

## 目的

GitHub CodespacesでC#/.NET開発環境を迅速にセットアップするための設定ファイルを生成・配置する。

## 責任範囲

- C# (.NET 9.0) 用のdevcontainer設定を生成する
- devcontainer自動更新のためのDependabot設定を生成する
- Markdownlint設定を生成する
- 生成した設定ファイルを適切な場所に配置する

## 使用タイミング

以下のときに使用する：
- 新規プロジェクトでCodespacesを初期化するとき
- 既存プロジェクトにCodespaces設定を追加するとき
- 開発環境の設定を更新・再構築するとき

## ワークフロー

1. プロジェクトの現在の状態を確認する
   - 既存の設定ファイルの有無を確認
   - 上書きが必要な場合はユーザーに確認する

2. 設定ファイルを生成する
   - テンプレートから設定ファイルを生成
   - プロジェクトに応じてカスタマイズが必要な場合は調整

3. ファイルを配置する
   - `.devcontainer/devcontainer.json`
   - `.github/dependabot.yml`
   - `.markdownlint-cli2.jsonc`

4. 設定の妥当性を確認する
   - 生成されたファイルが正しく配置されているか確認
   - 構文エラーがないか確認

## 出力

以下の設定ファイルを生成・配置する：

### 1. `.devcontainer/devcontainer.json`

C# (.NET 9.0) 開発用のDevコンテナ設定。

**内容:**
- .NET 9.0 SDK
- 必要な開発ツールとVS Code拡張機能
- コンテナのカスタマイズ設定

**理由:**
- 一貫した開発環境を全メンバーに提供する
- ローカル環境への依存を排除する
- セットアップ時間を大幅に削減する

### 2. `.github/dependabot.yml`

devcontainerの自動更新設定（週次）。

**内容:**
- devcontainerの週次更新チェック
- 自動プルリクエスト作成

**理由:**
- 開発環境を最新の状態に保つ
- セキュリティアップデートを自動適用する
- メンテナンスコストを削減する

### 3. `.markdownlint-cli2.jsonc`

Markdownlintのルール設定。

**内容:**
- プロジェクト共通のMarkdownルール
- 不要なルールの無効化

**理由:**
- ドキュメントの品質を統一する
- linterによる自動チェックを有効化する
- レビュー時の指摘事項を減らす

## 実行方法

### スクリプトを使用する場合

1. `scripts/setup-codespaces.sh` を確認する
2. 必要に応じてファイルパスを調整する
3. スクリプトを実行する

**理由:**
- スクリプトにより複数ファイルを一括生成できる
- 手動作業によるミスを防ぐ

### 手動で実行する場合

1. `templates/` ディレクトリ内のテンプレートを参照する
2. 各ファイルを適切な場所にコピーする
3. プロジェクトに応じて内容をカスタマイズする

**理由:**
- 細かいカスタマイズが必要な場合に柔軟に対応できる
- テンプレートの内容を理解しながら設定できる
