# Skill Creator 使用例

このドキュメントでは、skill-creatorスキルの典型的な使用例を示します。

## 例1: 新規スキル作成

### ユーザーからの依頼

「データベーススキーマを分析して、正規化の問題を検出するスキルを作りたい」

### 実施内容

#### ステップ1: 要件ヒアリング

スキルクリエイターは以下の質問を行います：

**Q1: このスキルの目的は何ですか？**
A: データベーススキーマの設計品質を評価し、正規化の問題を特定すること

**Q2: 具体的に何をチェックしますか？**
A:
- 第1正規形、第2正規形、第3正規形の違反
- 冗長なデータの検出
- 不適切な外部キーの使用

**Q3: どのような場面で使われますか？**
A: データベース設計レビュー時、スキーマ変更前の品質チェック

**Q4: 入力は何ですか？**
A: DDL（CREATE TABLE文）またはスキーマ定義ファイル

**Q5: 期待される出力は何ですか？**
A: 検出された問題のリスト、正規化レベルの評価、改善提案

**Q6: 類似の既存スキルはありますか？**
A: evaluating-librariesが類似の評価構造を持っています

#### ステップ2: スキル設計

スキルクリエイターは以下の設計を提案します：

**スキル名**: `analyzing-database-schema`

**description**:
```
データベーススキーマを分析し、正規化の問題、冗長性、不適切な設計パターンを検出する。DDLまたはスキーマ定義から第1〜第3正規形の違反を特定し、改善提案を提供する。データベース設計レビュー、スキーマ正規化チェックが必要なときに使用する。
```

**責任範囲**:
- DDLまたはスキーマ定義を解析する
  - 構造を理解し、分析の基礎データとする
- 正規化レベル（1NF、2NF、3NF）を評価する
  - 設計品質の定量的評価を可能にする
- 冗長性と非効率なパターンを検出する
  - データ整合性リスクとパフォーマンス問題を特定する
- 改善提案を生成する
  - 具体的な修正案で設計改善を支援する

**責任範囲外**:
- スキーマの自動修正
  - 修正判断はビジネス要件に依存するため、ユーザーに委ねる
- パフォーマンスチューニング
  - 正規化以外の最適化は別タスクとする

**ワークフロー**:
1. スキーマ定義を読み込む
2. テーブル構造を解析する
3. 正規化レベルを評価する
4. 問題点を特定する
5. 改善提案レポートを生成する

**出力形式**:
マークダウン形式の分析レポート（テーブル別の評価、問題点リスト、改善提案）

ユーザーに設計内容を提示し、承認を得ます。

#### ステップ3-5: SKILL.md生成

設計に基づき、ガイドライン準拠のSKILL.mdとEXAMPLE.mdを生成します。

#### ステップ6: 最終検証

生成されたスキルに対して検証を実行し、以下の結果を得ます：

```
総合スコア: 95/100

検証結果サマリー:
- YAMLフロントマター: OK (20/20)
- SKILL.md構造: OK (25/25)
- 内容品質: OK (28/30)
- ベストプラクティス: OK (18/20)
- ファイル構造: OK (4/5)

軽微な改善提案:
- EXAMPLE.mdに具体的なDDLサンプルを追加することを推奨
```

### 出力

1. `skills/analyzing-database-schema/SKILL.md`
2. `skills/analyzing-database-schema/EXAMPLE.md`
3. `skills/analyzing-database-schema/templates/analysis-report.md`

---

## 例2: 既存スキル検証

### ユーザーからの依頼

「coding-conventionsスキルの品質をチェックして、問題があれば改善提案をください」

### 実施内容

#### ステップ1: スキル読み込み

`skills/coding-conventions/SKILL.md`を読み込み、構造を確認します。

#### ステップ2: 検証実行

5つのカテゴリで検証を実施します。

#### ステップ3-4: 問題点特定と改善提案

検証の結果、以下の検証レポートを生成します：

```markdown
# スキル検証レポート

## 基本情報
- **スキル名**: coding-conventions
- **検証日時**: 2025-10-28 10:30:00
- **総合スコア**: 88/100

## 検証結果サマリー

| カテゴリ | OK | WARNING | ERROR |
|---------|----|---------| ------|
| YAMLフロントマター | 3 | 1 | 0 |
| SKILL.md構造 | 5 | 0 | 0 |
| 内容品質 | 4 | 1 | 0 |
| ベストプラクティス | 3 | 1 | 0 |
| ファイル構造 | 1 | 0 | 0 |
| **合計** | 16 | 3 | 0 |

## 詳細検証結果

### 1. YAMLフロントマター
- [✓] name: 形式OK（coding-conventions）
- [✓] description: 1024文字以内（680文字）
- [✓] description: XMLタグなし
- [⚠] description: 動名詞形ではない（許容範囲だが推奨は"coding-conventions"より"defining-coding-conventions"）

### 2. SKILL.md構造
- [✓] 目的セクション: 存在
- [✓] 責任範囲セクション: 存在
- [✓] 責任範囲外: 明記されている
- [✓] ワークフロー: 規約系スキルのため省略（適切）
- [✓] 出力: 明確に定義されている

### 3. 内容品質
- [✓] Whyの記述: 責任範囲の全項目に含まれる
- [✓] ファイルパス: 記述なし（適切）
- [✓] ドメインロジック集中: 適切
- [✓] 判断基準: 具体的で明確
- [⚠] 用語の一貫性: 「メソッド」と「関数」が混在（C#では「メソッド」に統一推奨）

### 4. ベストプラクティス
- [✓] 簡潔性: 450行（推奨範囲内）
- [✓] パス表記: Unixスタイル使用
- [✓] ネスト参照: 適切（1レベル）
- [⚠] 時間に敏感な情報: C#バージョン固有の記述あり（将来的な更新を考慮）

### 5. ファイル構造
- [✓] SKILL.md: 存在

## 改善提案

### 中優先度

1. **用語の一貫性向上**
   - **現状**: 「メソッド」と「関数」が混在
   - **問題点**: C#では「メソッド」が正式用語
   - **推奨修正**: 全て「メソッド」に統一
   - **理由**: 用語の一貫性により理解しやすくなる

2. **C#バージョン情報の記述方法**
   - **現状**: 「C# 10以降では...」のような直接的な記述
   - **問題点**: 将来的に古くなる可能性
   - **推奨修正**: 「現在の方法」と「古いパターン」セクションで分離
   - **理由**: メンテナンス性と持続性を向上させる

### 低優先度

3. **スキル名の動名詞形検討**
   - **現状**: coding-conventions（名詞形）
   - **問題点**: ベストプラクティスでは動名詞形を推奨
   - **推奨**: 次回更新時に検討（例: defining-coding-conventions）
   - **理由**: 命名規則の一貫性向上

## 総合評価

このスキルは高品質で、ガイドラインの主要な要件を満たしています。検出された問題は軽微であり、スキルの機能には影響しません。改善提案は品質向上のためのオプションです。
```

#### ステップ5: 改善版生成（ユーザー承認後）

ユーザーが改善提案1と2を承認した場合、修正版のSKILL.mdを生成します。

### 出力

1. 検証レポート（上記）
2. 改善版SKILL.md（ユーザー承認後）

---

## 例3: スキル作成の最小ケース

### ユーザーからの依頼

「JSONファイルをYAMLに変換するスキルを作りたい」

### 実施内容

#### 要件ヒアリング

**Q: いつこのスキルを使いますか？**
A: 設定ファイルのフォーマット変換時

**Q: 入力と出力は？**
A: 入力はJSONファイル、出力はYAMLファイル

**Q: 複雑な変換ロジックは必要ですか？**
A: いいえ、シンプルな1対1変換で十分です

#### スキル設計と生成

シンプルなケースのため、最小限の構造でスキルを生成します：

**スキル名**: `converting-json-to-yaml`

**description**:
```
JSONファイルをYAML形式に変換する。設定ファイルのフォーマット変換が必要なときに使用する。
```

**責任範囲**:
- JSONファイルを読み込んで解析する
  - 構造を保持したまま変換の準備をする
- YAML形式に変換する
  - 可読性の高いフォーマットで出力する
- 変換結果をファイルに保存する
  - 元のファイルを保持しながら新形式を提供する

**責任範囲外**:
- データの検証や修正
  - 変換のみに集中し、内容の正当性はユーザーが確認する

**ワークフロー**:
1. JSONファイルを読み込む
2. YAML形式に変換する
3. ユーザーに保存先を確認する
4. YAMLファイルとして保存する

**出力**:
YAML形式のファイル

### 出力

`skills/converting-json-to-yaml/SKILL.md`（最小限の構造、総合スコア: 92/100）

---

## 例4: 検証のみの実行

### ユーザーからの依頼

「evaluating-librariesスキルがガイドラインに準拠しているか確認してください」

### 実施内容

検証のみを実行し、レポートを生成します。

### 出力

```markdown
# スキル検証レポート

## 基本情報
- **スキル名**: evaluating-libraries
- **検証日時**: 2025-10-28 11:00:00
- **総合スコア**: 96/100

## 検証結果サマリー

| カテゴリ | OK | WARNING | ERROR |
|---------|----|---------| ------|
| YAMLフロントマター | 4 | 0 | 0 |
| SKILL.md構造 | 5 | 0 | 0 |
| 内容品質 | 5 | 0 | 0 |
| ベストプラクティス | 4 | 0 | 0 |
| ファイル構造 | 1 | 0 | 0 |
| **合計** | 19 | 0 | 0 |

## 詳細検証結果

### 1. YAMLフロントマター
- [✓] name: 形式OK（evaluating-libraries）動名詞形
- [✓] description: 1024文字以内（512文字）
- [✓] description: 三人称記述
- [✓] description: 具体的な使用場面を含む

### 2. SKILL.md構造
- [✓] 目的セクション: 存在し、明確
- [✓] 責任範囲セクション: 存在
- [✓] 責任範囲外: 明記されている
- [✓] ワークフロー: 詳細で具体的
- [✓] 出力: テンプレート付きで明確

### 3. 内容品質
- [✓] Whyの記述: 全責任範囲項目に含まれる
- [✓] ファイルパス: 記述なし
- [✓] ドメインロジック集中: 適切
- [✓] 判断基準: 具体的（数値基準あり）
- [✓] 用語の一貫性: 優れた一貫性

### 4. ベストプラクティス
- [✓] 簡潔性: 235行（優れた簡潔性）
- [✓] パス表記: 問題なし
- [✓] ネスト参照: なし
- [✓] 時間に敏感な情報: なし

### 5. ファイル構造
- [✓] SKILL.md: 存在

## 改善提案

改善提案はありません。このスキルは優れた品質で、ガイドラインのベストプラクティスを体現しています。

## 総合評価

このスキルは模範的な品質です。他のスキル作成時の参考として活用できます。
```

---

## 使用パターンのまとめ

| パターン | 使用場面 | 主要出力 |
|---------|---------|---------|
| **新規スキル作成** | 新しいスキルが必要なとき | SKILL.md, EXAMPLE.md, templates |
| **既存スキル検証・改善** | スキルの品質確認・向上 | 検証レポート, 改善版SKILL.md |
| **検証のみ** | 品質確認のみ必要 | 検証レポート |
| **最小スキル作成** | シンプルなスキルが必要 | 最小構成のSKIL.md |

## ヒント

- **要件が不明確な場合**: スキルクリエイターは積極的に質問します
- **段階的な承認**: 各ステップで確認を求めるため、安心して進められます
- **柔軟な対応**: 必要に応じてテンプレートをスキップするなど、状況に合わせた対応が可能です
- **既存スキルの参考**: 類似スキルがある場合、その構造を参考にします
