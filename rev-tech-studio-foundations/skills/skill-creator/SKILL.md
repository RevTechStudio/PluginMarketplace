---
name: skill-creator
description: スキルを作成・検証・改善する。新規スキルの作成時には要件をヒアリングしてガイドライン準拠のSKILL.mdを生成し、既存スキルの検証時には品質をチェックして改善提案を提供する。スキルの作成、スキルの品質チェック、スキルの改善が必要なときに使用する。
---

# Skill Creator

スキルを作成・検証・改善し、高品質なスキル開発を支援する。

## 目的

ガイドラインとベストプラクティスに準拠した高品質なスキルを効率的に作成・維持するため、スキルの設計から検証までを一貫してサポートする。

## 責任範囲

- 新規スキルの要件をヒアリングし、設計を支援する
  - 曖昧な要件を明確化し、スキルの目的と責任範囲を定義する
- ガイドライン準拠のSKILL.mdを生成する
  - 手作業によるミスを防ぎ、品質を標準化する
- 既存スキルの品質を検証する
  - ガイドライン違反を早期に発見し、品質を維持する
- 検証結果に基づく改善提案を提供する
  - 具体的な修正案を提示し、改善作業を効率化する
- 使用例とテンプレートを生成する
  - スキルの使い方を明確にし、再利用性を高める

**責任範囲外:**
- スキルの最終的な内容判断
  - ドメイン知識やビジネスロジックはユーザーが提供する
- スキルで使用する実行可能スクリプトの実装
  - スクリプトが必要な場合は別途作成する
- スキルコレクションへの登録や配布
  - スキルの登録や配布は別のプロセスで行う

## ワークフロー

### 新規スキル作成

このチェックリストをコピーして進捗を追跡します：

```
新規スキル作成進捗：
- [ ] ステップ1：要件をヒアリングする
- [ ] ステップ2：スキル設計を行う
- [ ] ステップ3：SKILL.mdを生成する
- [ ] ステップ4：EXAMPLE.mdを生成する（必要に応じて）
- [ ] ステップ5：テンプレートを生成する（必要に応じて）
- [ ] ステップ6：最終検証を実施する
```

**ステップ1：要件をヒアリングする**

以下の質問でスキルの要件を明確にする：
- このスキルの目的は何か？
- 具体的に何をするスキルか？
- どのような場面で使われるべきか？（ユーザーがどのようなキーワードで呼び出すか）
- 入力は何か？
- 期待される出力は何か？
- 類似の既存スキルはあるか？

不明点がある場合は、実装前にユーザーに質問する。

**ステップ2：スキル設計を行う**

ヒアリング結果を基に以下を設計する：

1. **スキル名を決定する**
   - 動名詞形（-ing形）を推奨：例）evaluating-libraries, analyzing-code
   - 64文字以内、小文字・数字・ハイフンのみ
   - 予約語（anthropic、claude）を含めない

2. **descriptionを作成する**
   - 1024文字以内
   - 三人称で記述（「〜する」形式）
   - スキルが何をするか + いつ使うかを含める
   - 具体的なキーワードを含める

3. **責任範囲を明確化する**
   - このスキルが「する」ことをリストアップ
   - 各項目に「なぜそうするか」の理由を付ける
   - このスキルが「しない」こと（責任範囲外）を明記
   - 各項目に「なぜしないか」の理由を付ける

4. **ワークフローを設計する**（規約系スキル以外）
   - 具体的な実行手順を明確にする
   - 各ステップの目的を説明する
   - ユーザーとの対話タイミングを明示する

5. **出力形式を定義する**
   - 成果物の構造とフォーマットを具体的に示す
   - テンプレートや例を含める

設計概要をユーザーに提示し、承認を得てから次のステップに進む。

**ステップ3：SKILL.mdを生成する**

設計に基づきSKILL.mdを以下の構造で生成する：

[スキルテンプレート](./templates/skill-template.md)

スキルテンプレート使用ガイド:

- [ ]で囲まれた部分は具体的な内容に置き換える
- 不要なセクションは削除可能
- 必要に応じてセクションを追加可能
- ワークフローが複数ある場合は、サブセクションとして複製
- 出力が1つだけの場合、サブ見出しは不要

生成時のチェックポイント：
- 各責任範囲項目に理由（Why）が含まれているか
- ファイルパスが含まれていないか
- ドメインロジックに集中しているか
- 具体的な判断基準が示されているか
- 簡潔で明確な表現になっているか（500行以内推奨）

**ステップ4：EXAMPLE.mdを生成する（必要に応じて）**

スキルの使用例を含むEXAMPLE.mdを生成する：

内容に含めるべき項目：
- 典型的な使用シナリオ
- ユーザーからの依頼例
- 実施内容の説明
- 期待される出力例

複数の使用例を提供することで、スキルの適用範囲を明確にする。

**ステップ5：テンプレートを生成する（必要に応じて）**

スキルが定型的な出力を生成する場合、templatesディレクトリにテンプレートファイルを作成する：

- レポート形式のテンプレート
- チェックリストのテンプレート
- 設定ファイルのテンプレート

テンプレートは再利用性を高め、出力の一貫性を保証する。

**ステップ6：最終検証を実施する**

生成したスキルに対して「既存スキル検証」ワークフローを実行し、品質を確認する。

問題が発見された場合は修正し、再検証する。

### 既存スキル検証・改善

このチェックリストをコピーして進捗を追跡します：

```
スキル検証進捗：
- [ ] ステップ1：スキルを読み込む
- [ ] ステップ2：検証を実行する
- [ ] ステップ3：問題点を特定する
- [ ] ステップ4：改善提案を生成する
- [ ] ステップ5：改善版を生成する（ユーザー承認後）
```

**ステップ1：スキルを読み込む**

検証対象のスキルディレクトリパスを確認し、SKILL.mdを読み込む。

追加ファイル（EXAMPLE.md、テンプレート等）の存在も確認する。

**ステップ2：検証を実行する**

以下の5つのカテゴリで検証を実施する：

1. **YAMLフロントマター検証**
   - `name`: 64文字以内、小文字・数字・ハイフンのみ、予約語なし
   - `name`: 動名詞形推奨（-ing形）
   - `description`: 1024文字以内、空でない、XMLタグなし
   - `description`: 三人称で記述されているか
   - `description`: 具体的な使用場面が含まれているか

2. **SKILL.md構造検証**
   - 目的セクションが存在するか
   - 責任範囲セクションが存在するか
   - 責任範囲外が明記されているか
   - ワークフローセクション（規約系スキル以外で必要）
   - 出力セクションが存在するか

3. **内容品質検証**
   - 各責任範囲項目に「Why（理由）」が含まれているか
   - ファイルパスが記述されていないか
   - ドメインロジックに集中しているか（インフラ的関心事を避ける）
   - 具体的な判断基準があるか
   - 用語が一貫して使用されているか

4. **ベストプラクティス検証**
   - SKILL.mdが500行以下か
   - Windowsスタイルパス（\）を使用していないか
   - 深いネスト参照（2レベル以上）を避けているか
   - 冗長な説明を避け、簡潔に記述されているか
   - 時間に敏感な情報を含んでいないか

5. **ファイル構造検証**
   - SKILL.mdが存在するか
   - 参照ファイルのリンクが正しいか
   - 参照ファイルのリンクはスキルディレクトリ配下に存在するか
   - 参照先ファイルが実際に存在するか
   - templatesディレクトリの構造は適切か

各検証項目は「OK」「WARNING」「ERROR」の3段階で評価する：
- **OK**: 問題なし
- **WARNING**: 改善推奨（必須ではない）
- **ERROR**: 修正必須（ガイドライン違反）

**ステップ3：問題点を特定する**

検証結果から問題点をリストアップし、優先度を付ける：

- **高優先度**: ERROR項目、ガイドライン必須要件の違反
- **中優先度**: WARNING項目、ベストプラクティス違反
- **低優先度**: 改善推奨、品質向上のための提案

問題点ごとに以下を記録する：
- 問題の内容
- 該当箇所
- 影響度
- 推奨される修正方法

**ステップ4：改善提案を生成する**

特定された問題点に対して、具体的な改善提案を生成する：

提案形式：
```markdown
## 改善提案

### 高優先度

1. [問題内容]
   - **現状**: [現在の記述]
   - **問題点**: [何が問題か]
   - **推奨修正**: [具体的な修正案]
   - **理由**: [なぜ修正すべきか]

### 中優先度
...

### 低優先度
...
```

改善提案をユーザーに提示し、修正を実施するか確認する。

**ステップ5：改善版を生成する（ユーザー承認後）**

ユーザーが承認した改善提案に基づき、修正版のSKILL.mdを生成する。

修正後、再度検証を実行して問題が解決されたことを確認する。

## 出力

### 新規スキル作成時の出力

1. **SKILL.md**: ガイドライン準拠のスキル定義ファイル
2. **EXAMPLE.md**: 使用例を含むドキュメント
3. **templates/**: 必要に応じたテンプレートファイル

### スキル検証時の出力

検証レポートを以下の形式で生成する：

```markdown
# スキル検証レポート

## 基本情報
- **スキル名**: [name]
- **総合スコア**: [XX]/100

## 検証結果サマリー

- [ ] YAMLフロントマター
- [ ] SKILL.md構造
- [ ] 内容品質
- [ ] ベストプラクティス
- [ ] ファイル構造

## 改善提案

### 高優先度
1. [具体的な改善提案]
...

### 中優先度
...

## 総合評価

[スキルの総合的な品質評価と主要な改善点のまとめ]
```

## 検証基準の詳細

### YAMLフロントマター基準

**name フィールド:**
- 最大64文字
- 小文字、数字、ハイフン（-）のみ使用可能
- XMLタグを含まない
- 予約語（anthropic、claude）を含まない
- 推奨: 動名詞形（例: processing-pdfs, analyzing-code）

**description フィールド:**
- 最大1024文字
- 空でない
- XMLタグを含まない
- 三人称で記述（「〜する」「〜を提供する」形式）
- スキルが何をするか明記
- いつ使用するか明記（トリガーとなるキーワードを含む）

良い例:
```yaml
description: PDFファイルからテキストと表を抽出し、フォームに入力し、ドキュメントをマージする。PDFファイル、フォーム、またはドキュメント抽出について言及している場合に使用する。
```

悪い例:
```yaml
description: ドキュメントに役立つ
```

### SKILL.md構造基準

**必須セクション:**
1. **目的**: スキルが何を実現するか（1-3段落）
2. **責任範囲**: 何をするか、何をしないか（箇条書き + 理由）
3. **ワークフロー**: 具体的な実行手順（規約系スキルは省略可）
4. **出力**: 成果物の形式と内容

**責任範囲の書き方:**
- 「する」ことと「しない」ことを明確に分ける
- 各項目にインデントで理由（Why）を記述する
- 具体的で測定可能な表現を使う

### 内容品質基準

**Why（理由）の記述:**
各責任範囲項目には、その項目が必要な理由を含める。

例:
```markdown
- コードとドキュメントを分析し、矛盾を特定する
  - 早期発見により修正コストを削減する
```

**ファイルパス記述の回避:**
スキル本文にはファイルパスを記述しない。

理由: スキルの再利用性を高め、プロジェクト固有の構造への依存を避けるため。

**ドメインロジックへの集中:**
以下を含める:
- ビジネスルール
- ドメイン知識
- 判断基準
- ワークフロー

以下を含めない:
- ファイルパス
- 環境依存の設定
- プロジェクト固有の構造

**具体的な判断基準:**
曖昧な表現を避け、Claudeが具体的に判断できる基準を記述する。

良い例:
```markdown
以下の場合は実装を開始する前にユーザーに確認する：
- 既存のファイルを削除する必要がある場合
- 3つ以上のファイルを変更する場合
```

悪い例:
```markdown
必要に応じてユーザーに確認する
```

### ベストプラクティス基準

**簡潔性:**
- SKILL.mdは500行以下を推奨
- 冗長な説明を避け、Claudeが既に知っていることは省略する
- 必要な情報のみを含める

**パス表記:**
- 常にUnixスタイル（フォワードスラッシュ）を使用
- 良い例: `scripts/helper.py`
- 悪い例: `scripts\helper.py`

**参照のネスト:**
- SKILL.mdから1レベル深い参照まで
- 2レベル以上のネストは避ける

### 総合スコア算出方法

以下の配点で100点満点で評価：

- **YAMLフロントマター**: 20点
  - name形式（5点）
  - description形式（5点）
  - description内容（10点）

- **SKILL.md構造**: 25点
  - 必須セクション存在（15点）
  - セクション内容の充実度（10点）

- **内容品質**: 30点
  - Whyの記述（10点）
  - ファイルパス回避（5点）
  - ドメインロジック集中（5点）
  - 具体的判断基準（10点）

- **ベストプラクティス**: 20点
  - 簡潔性（10点）
  - パス表記（5点）
  - その他ベストプラクティス（5点）

- **ファイル構造**: 5点
  - ファイル存在と整合性（5点）

各項目は達成度に応じて0-100%で評価し、配点を乗じて加算する。

## 注意事項

- **ユーザーとの対話**: 要件が不明確な場合は、推測せずにユーザーに質問する
- **段階的な進行**: 各ステップの完了後、次のステップに進む前にユーザーに確認する
- **既存スキルの尊重**: 検証時、既存スキルの意図を理解し、無理な変更を提案しない
- **具体例の提供**: 改善提案時は、具体的な修正例を示す
- **EXAMPLE参照**: [EXAMPLE.md](EXAMPLE.md)
